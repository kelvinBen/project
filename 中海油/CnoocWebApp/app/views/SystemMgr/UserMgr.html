<h3>
    <ul class="breadcrumb">
        <li>
            <i class="icon-home"></i>
            <a>{{"systemgr"|translate}}</a>
        </li>
        <li class="active">
            <span>{{"usermgr"|translate}}</span>
        </li>
    </ul>
</h3>
<div class="container-fluid" ng-controller="userMgrControl">
    <div class="panel panel-primary" style="margin-bottom: 0px;">
        <div class="panel-heading">
            {{"usermgr"|translate}}
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-xs-12">
                    <!-- <button type="button" class="btn btn-danger">
                        <em class="fa fa-trash-o"></em>{{"delete"|translate}}
                    </button> -->
                    <button type="button" class="btn btn-primary" ng-click="addUser()">
                        <em class="fa fa-plus-square"></em>{{"adduser"|translate}}
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="UploadUsers()">
                        <em class="fa icon-login"></em>{{"import"|translate}}
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="exportUsers()" ng-show="false">
                        <em class="fa fa-download"></em>{{"export"|translate}}
                    </button>
                    <input type="file" nv-file-select uploader="uploader" id="_f" ng-show="false"/>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12" style="margin-top:20px;">
                    <table datatable="ng" class="table table-bordered table-hover table-striped table-condensed" style="border-collapse:collapse;">
                        <thead>
                            <tr>
                                <!-- <th width="25">
                                    <input type="checkbox" ng-click="checkAllSelected()">
                                </th> -->
                                <th width="40" class="text-center">{{"num"|translate}}</th>
                                <th width="60" st-sort="real_name" class="text-center">{{"usernames"|translate}}</th>
                                <!-- <th st-sort="department" class="text-center">{{"org"|translate}}</th> -->
                                <!-- <th st-sort="career" class="text-center">{{"staffpost"|translate}}</th> -->
                                <!-- <th st-sort="group" class="text-center">{{"emdep"|translate}}</th> -->
                                <!-- <th st-sort="emergency_career" class="text-center">{{"empost"|translate}}</th> -->
                                <th class="text-center">{{"email"|translate}}</th>
                                <th class="text-center">{{"mobilephone"|translate}}</th>
                                <th class="text-center">{{"telephone"|translate}}</th>
                                <th style="width: 15%;" class="text-center">{{"operation"|translate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-center" ng-repeat="u in allUsers">
                                <!-- <td>
                                    <input type="checkbox" ng-checked="u.checked" ng-model="u.checked">
                                </td> -->
                                <td>{{$index + 1}}</td>
                                <td>{{u.real_name}}</td>
                                <!-- <td>{{u.organiztion_name}}</td> -->
                                <!-- <td>{{u.career}}</td> -->
                                <!-- <td>{{u.group_name}}</td> -->
                                <!-- <td>{{u.emergency_career}}</td> -->
                                <td>{{u.email}}</td>
                                <td>{{u.phone}}</td>
                                <td>{{u.telephone}}</td>
                                <td class="td-manage">
                                    <button type="button" class="btn btn-primary btn-sm" title="{{'modifypassword'| translate}}" ng-click="changepasswd(u.user_id)">
                                        <i class="fa fa-exchange"></i>
                                    </button>
                                    <button type="button" class="btn btn-primary btn-sm" title="{{'edit'|translate}}" ng-click="editUser(u)">
                                        <i class="fa fa-edit"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger btn-sm" title="{{'delete'|translate}}" ng-click="deleteconfirm(u.user_id)">
                                        <i class="fa fa-trash-o"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="modifyPwd.html">
        <form class="form-validate form-horizontal" name="changePwdForm" ng-submit="submitForm()" method="post" novalidate>
            <div class="panel panel-primary" style="margin-bottom: 0px;">
                <div class="panel-heading">
                    <h3 class="panel-title">{{'modifypassword'|translate}}</h3>
                </div>
                <div class="panel-body">
                    <div class="row form-group">
                        <div class="col-xs-12">
                            <input type="password" class="form-control" name="pwd" placeholder="" required="" ng-model="newPwd.newPwd">
                            <span ng-show="checkValue('pwd')" class="text-danger">{{"required"|translate}}</span>
                        </div>
                    </div>
                    <!-- <div class="row form-group">
                        <div class="col-xs-12">
                            <input type="password" class="form-control" name="pwd1" placeholder="Confirm new password" required="" ng-model="newPwd.pwd1">
                            <span ng-show="checkValue('pwd1')" class="text-danger">{{"required"|translate}}</span>
                        </div>
                    </div> -->
                </div>
                <div class="panel-footer text-center">
                    <button type="button" class="btn btn-default btn-sm" ng-click="close()">
                        {{'cancel' | translate}}
                    </button>
                    <button type="submit" class="btn btn-primary btn-sm">
                        {{'submit' | translate}}
                    </button>
                </div>
            </div>
        </form>
    </script>
</div>
