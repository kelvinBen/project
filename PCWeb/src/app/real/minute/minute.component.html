<dx-box direction="row" width="100%" height="100%">
  <dxi-item class="rect" [ratio]="0" [baseSize]="570">
    <dx-toolbar class="plane-head">
      <dxi-item location="before">
        <div *dxTemplate fxLayout="row" fxLayoutAlign="center center">
          <i class="fa fa-star"></i>
          <span>分钟监测</span>
        </div>
      </dxi-item>
      <dxi-item location="after">
        <dx-date-box [(ngModel)]="selDate" type="datetime" displayFormat="y-MM-dd HH:mm" (onValueChanged)="loadData()">
        </dx-date-box>
      </dxi-item>
    </dx-toolbar>
    <div class="plane-body plane-border">
      <dx-tab-panel style="height:100%;" [dataSource]="resultTabs" [animationEnabled]="true" [swipeEnabled]="true">
        <div *dxTemplate="let tab of 'title';">
          <span>{{tab.title}}</span>
        </div>
        <div *dxTemplate="let tab of 'item'">
          <dx-data-grid #rainGrid *ngIf="tab.index === 0" [hoverStateEnabled]="true" [dataSource]="rainGridDatas" style="height:100%;">
            <dxo-load-panel [enabled]="true"></dxo-load-panel>
            <dxo-paging [enabled]="false"></dxo-paging>
            <dxo-selection mode="single"></dxo-selection>
            <dxo-scrolling showScrollbar="always" [scrollByContent]="true"></dxo-scrolling>
            <dxi-column dataField="station.Station_Id_C" caption="站号" [width]="75"></dxi-column>
            <dxi-column dataField="station.Station_Name" caption="站名" [width]="90"></dxi-column>
            <dxi-column dataField="R6" caption="1h" sortOrder="desc" [width]="60"></dxi-column>
            <dxi-column dataField="R1" caption="0-10" [width]="65"></dxi-column>
            <dxi-column dataField="R2" caption="0-20" [width]="65"></dxi-column>
            <dxi-column dataField="R3" caption="0-30" [width]="65"></dxi-column>
            <dxi-column dataField="R4" caption="0-40" [width]="65"></dxi-column>
            <dxi-column dataField="R5" caption="0-50" [width]="65"></dxi-column>
          </dx-data-grid>
          <dx-data-grid #mainGrid *ngIf="tab.index === 1" [hoverStateEnabled]="true" [dataSource]="mainGridDatas" style="height:100%;">
            <dxo-load-panel [enabled]="true"></dxo-load-panel>
            <dxo-paging [enabled]="false"></dxo-paging>
            <dxo-selection mode="single"></dxo-selection>
            <dxo-scrolling showScrollbar="always" [scrollByContent]="true"></dxo-scrolling>
            <dxi-column dataField="station.Station_Id_C" caption="站号" [width]="70"></dxi-column>
            <dxi-column dataField="station.Station_Name" caption="站名" [width]="75"></dxi-column>
            <dxi-column dataField="value.TEM" caption="温度" sortOrder="desc" [width]="75"></dxi-column>
            <dxi-column dataField="value.PRS" caption="气压" [width]="75"></dxi-column>
            <dxi-column dataField="value.RHU" caption="相对湿度" [width]="85"></dxi-column>
            <dxi-column dataField="value.WIN_S_Avg_1mi" caption="平均风速" [width]="85"></dxi-column>
            <dxi-column dataField="value.WIN_D_Avg_1mi" caption="平均风向" [width]="85"></dxi-column>
          </dx-data-grid>
          <dx-data-grid #otherGrid *ngIf="tab.index === 2" [hoverStateEnabled]="true" [dataSource]="otherGridDatas" style="height:100%;">
            <dxo-load-panel [enabled]="true"></dxo-load-panel>
            <dxo-paging [enabled]="false"></dxo-paging>
            <dxo-selection mode="single"></dxo-selection>
            <dxo-scrolling showScrollbar="always" [scrollByContent]="true"></dxo-scrolling>
            <dxi-column dataField="station.Station_Id_C" caption="站号" [width]="70"></dxi-column>
            <dxi-column dataField="station.Station_Name" caption="站名" [width]="75"></dxi-column>
            <dxi-column dataField="value.TEM_Max" caption="最高温" sortOrder="desc" [width]="75"></dxi-column>
            <dxi-column dataField="value.TEM_Min" caption="最低温" [width]="75"></dxi-column>
            <dxi-column dataField="value.RHU_Min" caption="最小湿度" [width]="85"></dxi-column>
            <dxi-column dataField="value.WIN_S_Inst_Max" caption="极大风速" [width]="85"></dxi-column>
            <dxi-column dataField="value.WIN_D_INST_Max" caption="极大风向" [width]="85"></dxi-column>
          </dx-data-grid>
        </div>
      </dx-tab-panel>
    </div>
  </dxi-item>
  <dxi-item [ratio]="1" style="padding-left:10px;">
    <div class="mapView plane-border" id="esriMap" #map></div>
  </dxi-item>
</dx-box>
